<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS数据类型 | 前端知识集锦</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/web-Knowledge/img/logo.png">
    <link rel="stylesheet" href="/web-Knowledge/css/style.css">
    <meta name="description" content="前端知识集锦">
    
    <link rel="preload" href="/web-Knowledge/assets/css/0.styles.8509ef4e.css" as="style"><link rel="preload" href="/web-Knowledge/assets/js/app.7c7fdcd1.js" as="script"><link rel="preload" href="/web-Knowledge/assets/js/2.c1653dd8.js" as="script"><link rel="preload" href="/web-Knowledge/assets/js/17.74492613.js" as="script"><link rel="prefetch" href="/web-Knowledge/assets/js/10.0c5c0072.js"><link rel="prefetch" href="/web-Knowledge/assets/js/11.6fc8a8a7.js"><link rel="prefetch" href="/web-Knowledge/assets/js/12.1b8b0814.js"><link rel="prefetch" href="/web-Knowledge/assets/js/13.d5fc425f.js"><link rel="prefetch" href="/web-Knowledge/assets/js/14.62e88ca6.js"><link rel="prefetch" href="/web-Knowledge/assets/js/15.1c8f8a99.js"><link rel="prefetch" href="/web-Knowledge/assets/js/16.4efc1e49.js"><link rel="prefetch" href="/web-Knowledge/assets/js/18.3151b2db.js"><link rel="prefetch" href="/web-Knowledge/assets/js/19.023a90c1.js"><link rel="prefetch" href="/web-Knowledge/assets/js/20.f3331699.js"><link rel="prefetch" href="/web-Knowledge/assets/js/21.f86254d9.js"><link rel="prefetch" href="/web-Knowledge/assets/js/22.34899127.js"><link rel="prefetch" href="/web-Knowledge/assets/js/23.19c379a5.js"><link rel="prefetch" href="/web-Knowledge/assets/js/24.a331cf0f.js"><link rel="prefetch" href="/web-Knowledge/assets/js/25.ff510dc8.js"><link rel="prefetch" href="/web-Knowledge/assets/js/26.e79e7c6c.js"><link rel="prefetch" href="/web-Knowledge/assets/js/3.3c3b9051.js"><link rel="prefetch" href="/web-Knowledge/assets/js/4.91c2f1a1.js"><link rel="prefetch" href="/web-Knowledge/assets/js/5.51d3cdee.js"><link rel="prefetch" href="/web-Knowledge/assets/js/6.65e651bc.js"><link rel="prefetch" href="/web-Knowledge/assets/js/7.126b2a00.js"><link rel="prefetch" href="/web-Knowledge/assets/js/8.9aa453e9.js"><link rel="prefetch" href="/web-Knowledge/assets/js/9.6c2dc5b7.js">
    <link rel="stylesheet" href="/web-Knowledge/assets/css/0.styles.8509ef4e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-Knowledge/" class="home-link router-link-active"><!----> <span class="site-name">前端知识集锦</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web-Knowledge/blog/" class="nav-link">
  开发应用
</a></div><div class="nav-item"><a href="/web-Knowledge/interview/" class="nav-link router-link-active">
  面试集锦
</a></div><div class="nav-item"><a href="https://github.com/DarkerSU/web-interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web-Knowledge/blog/" class="nav-link">
  开发应用
</a></div><div class="nav-item"><a href="/web-Knowledge/interview/" class="nav-link router-link-active">
  面试集锦
</a></div><div class="nav-item"><a href="https://github.com/DarkerSU/web-interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器、HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML、CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html" aria-current="page" class="active sidebar-link">Javascript基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#js数据类型" class="sidebar-link">JS数据类型</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#let-var-const-的区别" class="sidebar-link">let var const 的区别</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#null和undefined的区别" class="sidebar-link">null和undefined的区别</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#typeof和-instanceof-的区别" class="sidebar-link">typeof和 instanceof 的区别</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#class-和-function-的区别" class="sidebar-link">class 和 function 的区别</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#tostring-和-valueof-有什么区别" class="sidebar-link">toString 和 valueOf 有什么区别</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#判断数组的几种方法" class="sidebar-link">判断数组的几种方法</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#for、foreach-、for-in、for-of循环详解" class="sidebar-link">for、forEach 、for in、for of循环详解</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#为何for-of不能遍历对象" class="sidebar-link">为何for of不能遍历对象?</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#set、map、weakset、weakmap-的区别" class="sidebar-link">Set、Map、WeakSet、WeakMap 的区别?</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#es6新特性" class="sidebar-link">ES6新特性</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#es6模块化" class="sidebar-link">ES6模块化</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#立即执行函数" class="sidebar-link">立即执行函数</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#构造函数" class="sidebar-link">构造函数</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#创建自定义对象的几种方法" class="sidebar-link">创建自定义对象的几种方法</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#原型对象-原型链" class="sidebar-link">原型对象，原型链</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#this指向问题" class="sidebar-link">this指向问题</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#浅拷贝、深拷贝" class="sidebar-link">浅拷贝、深拷贝</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#array方法" class="sidebar-link">Array方法</a></li><li class="sidebar-sub-header"><a href="/web-Knowledge/interview/notes/javascript/javascript-basic.html#object方法" class="sidebar-link">Object方法</a></li></ul></li><li><a href="/web-Knowledge/interview/notes/javascript/javascript-deep.html" class="sidebar-link">Javascript高阶</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="js数据类型"><a href="#js数据类型" class="header-anchor">#</a> JS数据类型</h2> <p><strong>基本数据类型</strong>（值类型）：</p> <div class="custom-block tip"><p class="custom-block-title">基本类型</p> <p>String 字符串</p> <p>Number 数值JS</p> <p>Boolean 布尔值</p> <p>Null 控制</p> <p>Undefined 未定义</p></div> <p><strong>引用数据类型</strong>（引用类型） 注：出5种基本类型外，其他的称之为Object类型</p> <div class="custom-block tip"><p class="custom-block-title">引用类型</p> <p>Object</p> <p>Function</p> <p>Array</p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token string">'123456'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b<span class="token operator">=</span><span class="token string">'hsduifb'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c<span class="token operator">=</span><span class="token string">''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span> <span class="token comment">//string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> b<span class="token punctuation">)</span> <span class="token comment">//string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> c<span class="token punctuation">)</span> <span class="token comment">//string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="let-var-const-的区别"><a href="#let-var-const-的区别" class="header-anchor">#</a> let var const 的区别</h2> <p>var: 解析器在对js解析时，会将脚本扫描一遍，将变量的声明提前到代码块的顶部，赋值还是在原先的位置，若在赋值前调用，就会出现暂时性死区，值为 undefined</p> <p>let const：不存在在变量提升，且作用域是存在于块级作用域下，所以这两个的出现解决了变量提升的问题，同时引用块级作用域。</p> <p>注：变量提升的原因是为了解决函数互相调用的问题。</p> <h2 id="null和undefined的区别"><a href="#null和undefined的区别" class="header-anchor">#</a> null和undefined的区别</h2> <p>null 空值</p> <p>underfind：未定义，声明了但是未初始化（为赋值）。</p> <h2 id="typeof和-instanceof-的区别"><a href="#typeof和-instanceof-的区别" class="header-anchor">#</a> typeof和 instanceof 的区别</h2> <p>typeof(a) 用于返回值的类型；</p> <p>instanceof 用于判断该对象是否是目标实例，根据原型链 <code>__proto__</code> 逐层向上查找，通过 instanceof 也可以判断一个实例是否是其父类型或者祖先类型的实例。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">person</span><span class="token punctuation">)</span>
<span class="token comment">//结果是 false ，看下 person 函数的原型链 person.proto_ =&gt; Function.proto=&gt; Object.proto=&gt; null ，所以在原型链上是找不到 person 的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="class-和-function-的区别"><a href="#class-和-function-的区别" class="header-anchor">#</a> class 和 function 的区别</h2> <p>class 也是一个语法糖，本质还是基于原型链，class 语义化和编码上更加符合面向对象的思维。</p> <p>对于 function 可以用 call apply bind 的方式来改变他的执行上下文，但是 class 却不可以。</p> <div class="custom-block tip"><p class="custom-block-title">**class**</p> <p>class 虽然本质上也是一个函数，但在转成 es5 （babel）做了一层代理，来禁止了这种行为。</p> <p>class 中定义的方法不可用 Object.keys() 遍历</p> <p>class 不可以定义私有的属性和方法， function 可以，只要不挂载在 this 作用域下就行</p> <p>class 只能通过类名调用</p> <p>class 的静态方法，this 指向类而非实例</p></div> <h2 id="tostring-和-valueof-有什么区别"><a href="#tostring-和-valueof-有什么区别" class="header-anchor">#</a> toString 和 valueOf 有什么区别</h2> <p><strong>toString</strong>   方法返回一个表示该对象的字符串，如果是对象会toString() 返回 “[object type]”,其中type是对象类型。</p> <p>**valueOf **  方法返回指定对象的原始值，JS会利用 valueOf() 方法用来把对象转换成原始类型的值（数值、字符串和布尔值）</p> <p>例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aa'</span><span class="token punctuation">,</span><span class="token string">'bb'</span><span class="token punctuation">,</span><span class="token string">'cc'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	 <span class="token comment">//aa,bb,cc</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//[&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;]</span>

<span class="token keyword">var</span>  boolean<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>boolean<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>boolean<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true</span>

<span class="token keyword">var</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>today<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//标准时间</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>today<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//毫秒数</span>

<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//123</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//hello</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//hello</span>

<span class="token keyword">var</span> <span class="token function-variable function">fn</span><span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//function(){ console.log(1) };</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//f(){console.log(1)}</span>

<span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//[object object]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//{}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="判断数组的几种方法"><a href="#判断数组的几种方法" class="header-anchor">#</a> 判断数组的几种方法</h2> <ul><li>Array.isArray() ES6 api</li> <li>obj instanceof Array 原型链查找</li> <li>obj.constructor === Array 构造函数类型判断</li> <li>Object.prototype.toString.call(obj) === '[object Array]'    toString返回表示该对象的字符串，若这个方法没有被覆盖，那么默认返回 &quot;[object type]&quot; ，其中 type 是对象的类型。需要准确判断类型的话，建议使用这种方法.</li></ul> <h2 id="for、foreach-、for-in、for-of循环详解"><a href="#for、foreach-、for-in、for-of循环详解" class="header-anchor">#</a> for、forEach 、for in、for of循环详解</h2> <h4 id="_1、for循环"><a href="#_1、for循环" class="header-anchor">#</a> 1、for循环</h4> <p>for循环，通过累加数组索引，来输出数组中的值。</p> <h4 id="_2、foreach循环"><a href="#_2、foreach循环" class="header-anchor">#</a> 2、forEach循环</h4> <p>forEach循环，跟for循环有点相似，不过会更优美，可通过参数直接获取到值，arr.forEach(function(item,index,arr){})，</p> <p>其中item为该索引下的值，index为索引，arr为数字本身，参数名可改变，但是顺序不能改变。</p> <h4 id="_3、for-in循环"><a href="#_3、for-in循环" class="header-anchor">#</a> 3、for in循环</h4> <p>相较于for循环，for in的功能会更加强大一些，使用范围也会更广，不但可以循环遍历数组，还可以循环遍历对象。</p> <h4 id="_4、for-of"><a href="#_4、for-of" class="header-anchor">#</a> 4、for of</h4> <p>遍历数组里的每一项。</p> <p>因为能够被for...of正常遍历的，都需要实现一个遍历器Iterator。而数组、字符串、Set、Map结构，早就内置好了Iterator（迭代器），它们的原型中都有一个Symbol.iterator方法，而Object对象并没有实现这个接口，使得它无法被for...of遍历。例如：
如下</p> <h2 id="为何for-of不能遍历对象"><a href="#为何for-of不能遍历对象" class="header-anchor">#</a> 为何for of不能遍历对象?</h2> <p>​	因为能够被for...of正常遍历的，都需要实现一个遍历器Iterator（迭代器）。而数组、字符串、Set、Map结构，早就内置好了Iterator，它们的原型中都有一个Symbol.iterator方法，而Object对象并没有实现这个接口，使得它无法被for...of遍历。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// ƒ values() { [native code] }</span>
 
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// ƒ [Symbol.iterator]() { [native code] }</span>
 
<span class="token class-name">Set</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// ƒ values() { [native code] }</span>
 
<span class="token class-name">Map</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// ƒ entries() { [native code] }</span>
 
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="set、map、weakset、weakmap-的区别"><a href="#set、map、weakset、weakmap-的区别" class="header-anchor">#</a> Set、Map、WeakSet、WeakMap 的区别?</h2> <blockquote><p>Set 和 Map 主要的应用场景在于 数据重组 和 数据储存</p></blockquote> <h3 id="_1、set和weakset"><a href="#_1、set和weakset" class="header-anchor">#</a> 1、Set和weakSet</h3> <h4 id="_1-1、set"><a href="#_1-1、set" class="header-anchor">#</a> 1.1、Set</h4> <p>Set 本身是一种构造函数，用来生成 Set 数据结构。</p> <p>(1)成员不能重复</p> <p>(2)只有键值对，没有键名，有点类似数组。</p> <p>(3)可以遍历，方法有add, delete,has.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 去重数组的重复对象</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token operator">...</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>	<span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">方法</p> <p>size: 返回集合的元素个数。（类似数组的长度length）</p> <p>add(value): 向集合中添加一个元素value。注意：如果向集合中添加一个已经存在的元素，不报错但是集合不会改变。</p> <p>delete(value): 从集合中删除元素value。</p> <p>has(value): 判断value是否在集合中，返回true或false.</p> <p>clear(): 清除所有成员，没有返回值。</p></div> <div class="custom-block tip"><p class="custom-block-title">set应用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//数组去重</span>
<span class="token keyword">let</span> arry <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> mySet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arry<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArry <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>mySet<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>

<span class="token comment">//set求并集</span>
<span class="token keyword">let</span> arryA<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arryB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> setAB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arryA<span class="token punctuation">,</span><span class="token operator">...</span>arryB<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArryAB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>setAB<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArryAB<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[2,3,4,5,6,7,8]</span>

<span class="token comment">//求交集</span>
<span class="token keyword">let</span> arryC<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arryD <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> setC <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arryC<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> setD <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arryD<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArryC_D <span class="token operator">=</span> arryA<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token operator">=&gt;</span>setD<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArryC_D<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[3,4,5,6]</span>

<span class="token comment">//求差集</span>
<span class="token keyword">let</span> newArryD_C <span class="token operator">=</span> arryA<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token operator">=&gt;</span><span class="token operator">!</span>setD<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArryD_D <span class="token operator">=</span> arryB<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token operator">=&gt;</span><span class="token operator">!</span>setC<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArryCD <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>newArryD_C<span class="token punctuation">,</span><span class="token operator">...</span>newArryD_D<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArryCD<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[2,7,8]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></div> <h4 id="_1-2、weakset"><a href="#_1-2、weakset" class="header-anchor">#</a> 1.2、WeakSet</h4> <p>和Set结构类似，也是不重复的值的集合，但WeakSet的成员只能是对象。</p> <p>WeakSet的API：add() //增 ；delete() //删； has() //是否存在</p> <p>注意：ws没有size属性，不可遍历。因为WeakSet的成员都是弱引用，随时可能消失，成员是不稳定的。</p> <div class="custom-block tip"><p class="custom-block-title">**用处**</p> <p>（1）使用ws储存DOM节点，就不用担心节点从文档移除时，会引发内存泄漏（即在被移除的节点上绑定的click等事件）。</p> <p>（2）下面代码保证了Foo的实例方法，只能在Foo的实例上调用。这里使用 WeakSet 的好处是，foos对实例的引用，不会被计入内存回收机制，所以删除实例的时候，不用考虑foos，也不会出现内存泄漏。</p></div> <h3 id="_2、map和weakmap"><a href="#_2、map和weakmap" class="header-anchor">#</a> 2、Map和weakMap</h3> <h4 id="_2-1、map"><a href="#_2-1、map" class="header-anchor">#</a> 2.1、Map</h4> <p>Map解决的是Object的键值对中键只能是字符串的问题。</p> <p>Map本质上是键值对的集合，类似集合；</p> <p>(1)成员都是对象</p> <p>(2)成员都是弱引用，随时可以消失。 可以用来保存DOM节点，不容易造成内存泄漏</p> <p>(3)不能遍历，方法有add, delete,has</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> myMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">方法</p> <p>size: 属性，取出字典的长度</p> <p>set(key, value)：向字典中添加新元素</p> <p>get(key)：通过键查找特定的数值并返回</p> <p>has(key)：判断字典中是否存在键key</p> <p>delete(key)：通过键 key 从字典中移除对应的数据</p> <p>clear()：将这个字典中的所有元素删除</p></div> <p>::: error <strong>Object的区别：</strong></p> <p>一个 Object 的键只能是字符串或者 Symbols，但一个 Map 的键可以是任意值。</p> <p>Map 中的键值是有序的（FIFO 原则），而添加到对象中的键则不是。</p> <p>Map 的键值对个数可以从 size 属性获取，而 Object 的键值对个数只能手动计算。</p> <p>Object 都有自己的原型，原型链上的键名有可能和你自己在对象上的设置的键名产生冲突,而map健不可重复，如果键名冲突则会覆盖对应的值。</p> <p>:::</p> <p>map的遍历</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'F'</span><span class="token punctuation">,</span><span class="token string">'no'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'T'</span><span class="token punctuation">,</span><span class="token string">'yes'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token comment">//F</span>
<span class="token comment">//T</span>
map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//MapIterator {&quot;F&quot;, &quot;T&quot;}</span>
map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//MapIterator {&quot;no&quot;, &quot;true&quot;}</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//no</span>
<span class="token comment">//yes</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//F no</span>
<span class="token comment">//T yes</span>

map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;key:&quot;</span><span class="token operator">+</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;-------value:&quot;</span><span class="token operator">+</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_2-2、weakmap"><a href="#_2-2、weakmap" class="header-anchor">#</a> 2.2、WeakMap</h4> <p>WeakMap结构与Map结构基本类似，唯一的区别就是WeakMap只接受对象作为键名（null除外），而且键名所指向的对象不计入垃圾回收机制。</p> <p>(1)直接受对象作为键名（null除外），不接受其他类型的值作为键名</p> <p>(2)键名所指向的对象，不计入垃圾回收机制</p> <p>(3)不能遍历，方法同get,set,has,delete</p> <h2 id="es6新特性"><a href="#es6新特性" class="header-anchor">#</a> ES6新特性</h2> <h4 id="_1、const-与-let-变量"><a href="#_1、const-与-let-变量" class="header-anchor">#</a> 1、const 与 let 变量</h4> <ul><li>使用<code>let</code>声明的变量可以重新赋值,但是不能在同一作用域内重新声明</li> <li>使用<code>const</code>声明的变量必须赋值初始化,但是不能在同一作用域类重新声明也无法重新赋值.</li></ul> <h4 id="_2、模板字符串"><a href="#_2、模板字符串" class="header-anchor">#</a> 2、模板字符串</h4> <h4 id="_3、数组和对象的解构"><a href="#_3、数组和对象的解构" class="header-anchor">#</a> 3、数组和对象的解构</h4> <h4 id="_4、函数箭头"><a href="#_4、函数箭头" class="header-anchor">#</a> 4、函数箭头</h4> <h4 id="_5、数组新增map和reduce"><a href="#_5、数组新增map和reduce" class="header-anchor">#</a> 5、数组新增Map和Reduce</h4> <h4 id="_6、扩展运算符"><a href="#_6、扩展运算符" class="header-anchor">#</a> 6、扩展运算符（...）</h4> <h4 id="_7、promise"><a href="#_7、promise" class="header-anchor">#</a> 7、Promise</h4> <h4 id="_8、set和map"><a href="#_8、set和map" class="header-anchor">#</a> 8、Set和Map</h4> <p><code>Set</code>本质与数组类似。不同于Set中只能保存不同的元素，如果元素相同会被忽略。</p> <p>构造函数：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [1]</span>

<span class="token keyword">let</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>	<span class="token comment">// [1,2,3,4,5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>方法：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 添加，元素内容不可重复，重复会被忽略</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 清空</span>
set<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 删除指定元素，删除的是元素内容，而不是下标</span>
set<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token comment">// 判断指定元素是否存在</span>
set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token comment">// 遍历</span>
set<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 元素个数</span>
set<span class="token punctuation">.</span>size
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>Map</code>本质是与Object类似的结构。不同在于Object强制规定key值只能是字符串。而<code>Map</code>对象的key可以是任意对象</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// map接收一个数组，数组中的元素是键值对数组</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span><span class="token string">'value1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span><span class="token string">'value2'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 或者接收一个set</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'key3'</span><span class="token punctuation">,</span><span class="token string">'value3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'key4'</span><span class="token punctuation">,</span><span class="token string">'value4'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span>size

map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_9、class-类"><a href="#_9、class-类" class="header-anchor">#</a> 9、class（类）</h4> <h2 id="es6模块化"><a href="#es6模块化" class="header-anchor">#</a> ES6模块化</h2> <table><thead><tr><th>暴露方式</th> <th>引入方式</th></tr></thead> <tbody><tr><td>分别暴露</td> <td><code>import {} from '/xx/xx'</code></td></tr> <tr><td>统一暴露</td> <td><code>import {} from '/xx/xx'</code></td></tr> <tr><td>默认暴露</td> <td><code>import a from '/xx/xx'</code></td></tr></tbody></table> <h2 id="立即执行函数"><a href="#立即执行函数" class="header-anchor">#</a> 立即执行函数</h2> <p>立即执行函数：函数定义完，立即被调用，</p> <p>立即执行函数往往只会执行一次</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//函数体</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//或者</span>

<span class="token operator">!</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//函数体</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="构造函数"><a href="#构造函数" class="header-anchor">#</a> 构造函数</h2> <p>构造函数与普通函数在编码上没有区别，只要可以通过 new 来调用的就是构造函数。</p> <p>::: error  注：</p> <p>箭头函数不可以作为构造函数。</p> <p>:::</p> <h2 id="创建自定义对象的几种方法"><a href="#创建自定义对象的几种方法" class="header-anchor">#</a> 创建自定义对象的几种方法</h2> <h3 id="_1、对象字面量模式"><a href="#_1、对象字面量模式" class="header-anchor">#</a> 1、对象字面量模式</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> stu <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'student1'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
    school<span class="token operator">:</span> <span class="token string">'学校1'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">like</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'喜欢打篮球'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_2、工厂函数模式"><a href="#_2、工厂函数模式" class="header-anchor">#</a> 2、工厂函数模式</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>likename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> stu <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> name<span class="token punctuation">,</span>
        age<span class="token operator">:</span> age<span class="token punctuation">,</span>
        school<span class="token operator">:</span> <span class="token string">'学校1'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">like</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'喜欢'</span><span class="token operator">+</span>likename<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> stu
<span class="token punctuation">}</span>
<span class="token keyword">var</span> s1<span class="token operator">=</span><span class="token function">student</span><span class="token punctuation">(</span><span class="token string">'小红'</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token string">'sing'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> s2<span class="token operator">=</span><span class="token function">student</span><span class="token punctuation">(</span><span class="token string">'小米'</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token string">'drink'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_3、构造函数模式"><a href="#_3、构造函数模式" class="header-anchor">#</a> 3、构造函数模式</h3> <blockquote><p><strong>new 对象()</strong>          // new创建一个对象，将函数内部的this指向新的对象</p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//构造函数</span>
<span class="token keyword">function</span> <span class="token function">Teacher</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>likename</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">like</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'喜欢'</span><span class="token operator">+</span>likename<span class="token punctuation">)</span>    <span class="token comment">//为了节约内存，构造函数中的函数可以定义成一个外部函数</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token comment">// new创建一个对象，将函数内部的this指向新的对象</span>
<span class="token keyword">var</span> t1<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token string">'小黑'</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token string">'mv'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="原型对象-原型链"><a href="#原型对象-原型链" class="header-anchor">#</a> 原型对象，原型链</h2> <h3 id="_1、原型对象"><a href="#_1、原型对象" class="header-anchor">#</a> 1、原型对象</h3> <p><strong>prototype</strong></p> <ol><li>我们所创建的每一个函数。解析器都会向函数中添加一个属性prototype，这个属性对应着一个对象，这个对象就是所谓的原型对象;</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>如果函数作为普通函数调用，prototype没有任何作用，当函数以构造函数（
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>new 函数()</strong>）的形式调用时，他所创建的实例对象中都会有一个隐含的属性，这个属性指向该构造函数的原型，我们可以通过proto来访问该属性</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//定义构造函数</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token keyword">var</span> per1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> per2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//[object,object]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per1<span class="token punctuation">.</span>_proto_<span class="token operator">==</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>原型对象就相当于一个公共的区域，所有同一个类的实例都可以访问到这个原型对象，我们可以将对象中共有的内容，统一设置到原型对象中。</li> <li>使用<strong>in</strong>检查对象中是否含有某个对象的属性时，如果对象中没有，但是<strong>原型中有</strong>，也会返回<strong>true</strong>。</li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>’属性‘  in 对象</p></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>可以使用对象的hasOwnProperty()来检查
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>对象自身中</strong>是否含有该属性</p> <h3 id="_2、原型链"><a href="#_2、原型链" class="header-anchor">#</a> 2、原型链</h3> <ul><li>每个构造函数都有一个prototype属性指向原型对象。</li> <li>原型对象通过constructor属性指向构造函数。</li> <li>通过实例对象的__proto__属性可以访问原型对象。</li> <li>Object的原型对象的__proto__属性为null。</li></ul> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <p>当函数内部的变量被另外一个函数引用，那么这个函数的变量将不会在执行完毕之后销毁</p> <h2 id="this指向问题"><a href="#this指向问题" class="header-anchor">#</a> this指向问题</h2> <p>根据函数调用的方式不同，this会指向不同的对象**【重要】**</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><p>以函数的形式调用时   ------    this永远都是window，比如fun(),相当于window.fun()</p></li> <li><p>以方法的形式调用时   ------    this是调用方法的那个对象；</p></li> <li><p>以构造函数的形式调用时   ------    this是创建的那个对象；</p></li> <li><p>使用call和apply调用时   ------    this指向那个对象</p></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'小明'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">like</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'111'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">var</span> fn<span class="token operator">=</span>stu<span class="token punctuation">.</span>like  
stu<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//其中的 this 指向stu对象</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//其中的 this 指向 window</span>

<span class="token comment">//注意：</span>
<span class="token comment">//如果是下面的写法则this指向stu对象</span>
<span class="token keyword">var</span> fn<span class="token operator">=</span>stu<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
fn<span class="token punctuation">;</span>	<span class="token comment">//其中的 this 指向 stu对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></div> <h3 id="_1、改变this的指向"><a href="#_1、改变this的指向" class="header-anchor">#</a> 1、改变this的指向</h3> <h4 id="call-apply改变this指向"><a href="#call-apply改变this指向" class="header-anchor">#</a> call/apply改变this指向</h4> <div class="custom-block tip"><p class="custom-block-title">**call/apply**</p> <p>通过call/apply可以使得在调用函数的时候修改this指向</p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> stu<span class="token operator">=</span><span class="token punctuation">{</span>
 name<span class="token operator">:</span><span class="token string">'11'</span><span class="token punctuation">,</span>
 <span class="token function-variable function">like</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'打蜡前'</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> teacher<span class="token operator">=</span><span class="token punctuation">{</span>
 name<span class="token operator">:</span><span class="token string">'老师'</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> fn<span class="token operator">=</span>stu<span class="token punctuation">.</span>like 
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//this指向window</span>

<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>teacher<span class="token punctuation">)</span> <span class="token comment">//修改this指向teacher对象</span>

<span class="token keyword">var</span> parent<span class="token operator">=</span><span class="token punctuation">{</span>
 name<span class="token operator">:</span><span class="token string">'mama'</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token comment">//修改this指向parent对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">**call和apply区别**</p> <ul><li>参数传值方式不同</li></ul> <p>fn.call(对象,val1,val2,val3,....)    ---&gt;参数以次传入</p> <p>fn.apply(对象,[val1,val2,val3,...])   ---&gt;以参数数组形式传入</p></div> <h4 id="bind改变this指向"><a href="#bind改变this指向" class="header-anchor">#</a> bind改变this指向</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> teacher<span class="token operator">=</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'老师'</span>
<span class="token punctuation">}</span>  
<span class="token keyword">var</span> stu <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'学生'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">like</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'喜欢打篮球'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>teacher<span class="token punctuation">)</span>   <span class="token comment">//bind(teacher)绑定到stu对象上，所以this指teacher对象</span>
<span class="token punctuation">}</span>

stu<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//bind(teacher)绑定到stu对象上，所以this指teacher对象,</span>

<span class="token comment">//结果为：老师喜欢打篮球</span>



<span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'111'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'喜欢：'</span> <span class="token operator">+</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">'唱歌'</span><span class="token punctuation">,</span><span class="token string">'跳舞'</span><span class="token punctuation">,</span><span class="token string">'睡觉'</span><span class="token punctuation">)</span> <span class="token comment">//bind(stu)绑定到stu对象上，所以this指stu对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_2、箭头函数中this的指向"><a href="#_2、箭头函数中this的指向" class="header-anchor">#</a> 2、箭头函数中this的指向</h3> <p>ES6中的箭头函数并不会使用上述规则，而是继承外层函数调用的this绑定</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> stu <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'学生'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">like</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'喜欢打篮球'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>

stu<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//this指向window</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="浅拷贝、深拷贝"><a href="#浅拷贝、深拷贝" class="header-anchor">#</a> 浅拷贝、深拷贝</h2> <div class="custom-block tip"><p class="custom-block-title">**赋值**、**浅拷贝**、**深拷贝**的区别：</p> <p><strong>赋值</strong>：当我们把一个对象赋值给一个新的变量时，赋的其实是该对象在栈中的地址。而不是堆中的数据。也就是两个对象指向的是同一个存储空间，无论哪个对象发生改变，其实都是对象的存储空间的内容。因此两个对象是联动的。</p> <p><strong>浅拷贝</strong>：重新再堆中创建内存，拷贝前后对象内的基本数据类型互不影响，但拷贝前后对象的引用类型因共享同一块内存，会互相影响。</p> <p><strong>深拷贝</strong>：从堆内存中开辟一个新的区域存放新对象，对对象中的子对象进行递归拷贝，拷贝前后的两个对象互不影响。</p></div> <h3 id="_1、堆、栈"><a href="#_1、堆、栈" class="header-anchor">#</a> 1、堆、栈</h3> <p><strong>栈内存</strong>主要用于存储各种<strong>基本类型</strong>的变量</p> <p><strong>堆内存</strong>主要负责存储各种<strong>引用类型</strong>的变量</p> <p>如下图：</p> <p><a href="https://imgtu.com/i/RzdeXj" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/07/10/RzdeXj.png" alt="RzdeXj.png"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2、浅拷贝"><a href="#_2、浅拷贝" class="header-anchor">#</a> 2、浅拷贝</h3> <div class="custom-block tip"><p class="custom-block-title">实现方式：</p> <ul><li>Object.assign()</li> <li>loadsh 中的 _.clone</li> <li>...扩展运算符</li> <li>Array.protype.concat</li> <li>Array.protype.slice</li></ul></div> <h3 id="_3、深拷贝"><a href="#_3、深拷贝" class="header-anchor">#</a> 3、深拷贝</h3> <div class="custom-block tip"><p class="custom-block-title">实现方式</p> <ul><li>JSON.parse(JSON.stringify())</li> <li>递归</li> <li>cloneDeep</li> <li>Jquery.extend()</li></ul></div> <h2 id="array方法"><a href="#array方法" class="header-anchor">#</a> Array方法</h2> <h3 id="_1、四种基本方法"><a href="#_1、四种基本方法" class="header-anchor">#</a> 1、四种基本方法</h3> <table><thead><tr><th>方法</th> <th>描述</th> <th>备注</th> <th>语法</th></tr></thead> <tbody><tr><td>push()</td> <td>向数组的<strong>末尾</strong>插入一个或多个元素，返回结果为该<strong>数组新的长度</strong></td> <td>改变原来数组</td> <td>arr.push(val ,val2,val3,...)</td></tr> <tr><td>pop()</td> <td>删除数组<strong>最后一个</strong>元素，返回<strong>被删除的元素</strong></td> <td>改变原来数组</td> <td>arr.pop()</td></tr> <tr><td>unshift()</td> <td>在数组<strong>最前面</strong>插入一个或者多个元素，返回为该<strong>数组新的长度</strong></td> <td>改变原来数组</td> <td>arr.unshift(val ,val2,val3,...)</td></tr> <tr><td>shift()</td> <td>删除数组中的<strong>第一个</strong>元素，返回<strong>被删除的元素</strong></td> <td>改变原来数组</td> <td>arr.shift()</td></tr></tbody></table> <h3 id="_2、常见方法"><a href="#_2、常见方法" class="header-anchor">#</a> 2、常见方法</h3> <table><thead><tr><th>方法</th> <th>描述</th> <th>备注</th> <th>语法</th></tr></thead> <tbody><tr><td>slice()</td> <td>从数组中<strong>提取</strong>指定的一个或者多个元素，返回<strong>新的数组</strong></td> <td>不改变原数组</td> <td>arr.<strong>slice</strong>(val1,val2)     提取从val1-val2的值（不包含val2）</td></tr> <tr><td>splice()</td> <td>从数组中<strong>删除</strong>指定一个或多个元素，返回<strong>新数组</strong></td> <td>会改变原数组</td> <td>arr.<strong>splice</strong>(索引值，删除的数量，添加的内容)，可作为删除，也可作为替换</td></tr> <tr><td>concat()</td> <td>链接两个或者多个数组，返回<strong>新数组</strong></td> <td>不改变原数组</td> <td></td></tr> <tr><td>join()</td> <td>将数组转为字符串，返回结果为<strong>转换后的字符串</strong></td> <td>不会改变原数组</td> <td></td></tr> <tr><td>reverse()</td> <td>反转数组，返回<strong>反转后的数组</strong></td> <td>不改变原数组</td> <td></td></tr> <tr><td>sort()</td> <td>对数组中的元素，默认<strong>按照Unicode编码</strong>，<strong>从小到大</strong>排序</td> <td>会改变原数组</td> <td>arr.sort() 或arr.sort(callback)   //callback回调函数，可以设置排序方式</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">slice()</p> <p>slice()可以将<strong>伪数组</strong>转化成真数组</p> <p>array=<strong>Array.prototype.slice.call</strong>(arrLike)</p> <p>或</p> <p>array=<strong>[].slice.call</strong>(arrLike)</p></div> <h3 id="_3、数组遍历方法"><a href="#_3、数组遍历方法" class="header-anchor">#</a> 3、数组遍历方法</h3> <table><thead><tr><th>方法</th> <th>描述</th> <th>备注</th></tr></thead> <tbody><tr><td>for循环</td> <td></td> <td></td></tr> <tr><td>forEach()</td> <td></td> <td></td></tr> <tr><td>map()</td> <td>对原数组中的每一项进行加工，将<strong>组成新的数组</strong></td> <td>不会改变原数组</td></tr> <tr><td>filter()</td> <td>对数组中的每一项进行回调函数，该函数返回结果是true的项将组成新的数组，返回结果为<strong>新的数组</strong>。起到过滤的左右</td> <td>不会改变原数组</td></tr> <tr><td>every()</td> <td>如果有一项为false，则停止遍历，此方法返回true</td> <td>要求每一项都返回true，最终的经过才返回false</td></tr> <tr><td>some()</td> <td>只要有一项为true，则停止遍历，此方法返回true</td> <td>要求每一项都返回false，最终的结果才会返回false</td></tr> <tr><td>reduce</td> <td>为数组中的每一个元素，执行回调函数</td> <td></td></tr></tbody></table> <h3 id="_4、其他方法"><a href="#_4、其他方法" class="header-anchor">#</a> 4、其他方法</h3> <table><thead><tr><th>方法</th> <th>描述</th> <th>备注</th></tr></thead> <tbody><tr><td>indexOf(value)</td> <td>获取value在数组中<strong>第一个位置</strong>的下标</td> <td></td></tr> <tr><td>lastIndex(value)</td> <td>获取value在数组中<strong>最后一个位置</strong>的下标</td> <td></td></tr> <tr><td>find(function())</td> <td>找出<strong>第一个满足</strong>【指定条件返回为true】的<strong>元素</strong></td> <td>arr.find(fn)</td></tr> <tr><td>findIndex(function())</td> <td>找出<strong>第一个满足</strong>【指定条件返回为true】的元素的<strong>index</strong></td> <td></td></tr> <tr><td>Array.from(arrayLike)</td> <td>将<strong>伪数组</strong>转换成<strong>真数组</strong></td> <td></td></tr> <tr><td>Array.of(value1,value2,value3)</td> <td>将一系列值转换成数组</td> <td></td></tr></tbody></table> <h3 id="_5、其他"><a href="#_5、其他" class="header-anchor">#</a> 5、其他</h3> <p><strong>isArray()</strong> ：判断是否为数组</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>布尔值=<strong>Array.isArray</strong>(被检测的值)</p></div> <p><strong>toString()</strong> ：数组转换成字符串</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>字符串=数组.<strong>toString()</strong></p> <p>把数组转换成字符串，每一项用,分割</p></div> <p><strong>valueOf()</strong>：返回数组本身</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>数组本身=数组.<strong>valueOf()</strong></p></div> <h2 id="object方法"><a href="#object方法" class="header-anchor">#</a> Object方法</h2> <h4 id="_1、freeze"><a href="#_1、freeze" class="header-anchor">#</a> 1、freeze()</h4> <p>Object.freeze() 可以冻结一个对象，冻结之后不能向这个对象添加新的属性，不能修改其已有属性的值，不能删除已有属性，以及不能修改该对象已有属性的可枚举性、可配置性、可写性。该方法返回被冻结的对象。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/15/2021, 1:44:40 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web-Knowledge/interview/notes/DOM.html" class="prev">
        DOM相关
      </a></span> <span class="next"><a href="/web-Knowledge/interview/notes/javascript/javascript-deep.html">
        Javascript高阶
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/web-Knowledge/assets/js/app.7c7fdcd1.js" defer></script><script src="/web-Knowledge/assets/js/2.c1653dd8.js" defer></script><script src="/web-Knowledge/assets/js/17.74492613.js" defer></script>
  </body>
</html>
